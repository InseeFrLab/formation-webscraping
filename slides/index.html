<!DOCTYPE html>
<html lang="fr-FR"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.251">

  <meta name="author" content="Antoine Palazzolo, INSEE,">
  <title>Formation au webscraping</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="custom.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-size="contain" class="center">
  <h1 class="title">Formation au webscraping</h1>
  <p class="subtitle"></p><p><strong><span class="orange">Rabat - Coopération internationale</span></strong></p><p></p>
  <p class="author"></p><p><a href="https://github.com/antoine-palazz/">Antoine Palazzolo, INSEE</a>,</p><p></p>
  <p class="date">Décembre 2022</p>
</section>

<section id="sommaire" class="title-slide slide level1 center" data-background-size="contain">
<h1>Sommaire</h1>
<p>Insérer sommaire cliquable</p>
</section>

<section id="i.-introduction-au-webscraping" class="title-slide slide level1 center" data-background-size="contain">
<h1>I. Introduction au webscraping</h1>

</section>

<section id="i.-sommaire" class="title-slide slide level1 center" data-background-size="contain">
<h1>I. Sommaire</h1>
<ol type="1">
<li><a href="#/presentation-generale">Présentation générale</a></li>
</ol>
</section>

<section>
<section id="presentation-generale" class="title-slide slide level1 center" data-background-size="contain">
<h1>Présentation générale et usages courants</h1>

</section>
<section id="quest-ce-que-le-webscraping" class="slide level2" data-background-size="contain">
<h2>Qu’est-ce que le <a href="https://librarycarpentry.org/lc-webscraping/01-introduction/index.html">webscraping</a> ?</h2>
<p><br></p>
<ul>
<li>Le <a href="https://en.wikipedia.org/wiki/Web_scraping">webscraping</a> désigne un ensemble de techniques d’extraction de contenu sur des sites internet.</li>
</ul>
<div class="fragment">
<ul>
<li>Le terme fait généralement référence à l’usage de <a href="https://en.wikipedia.org/wiki/Internet_bot">bots</a> pour collecter ces contenus automatiquement.</li>
</ul>
</div>
</section>
<section id="exemples-introductifs" class="slide level2" data-background-size="contain">
<h2>Exemples introductifs</h2>
<ul>
<li>On souhaite accéder à la <a href="https://fr.wikipedia.org/wiki/Liste_des_pr%C3%A9sidents_des_%C3%89tats-Unis">liste des présidents des États-Unis</a> et réunir les dates de mandat dans un <code>Excel</code>.</li>
</ul>
<div class="fragment">
<ul>
<li>On souhaite télécharger le <a href="https://www.universityrankings.ch/results/QS/2023">classement QS 2023 des universités</a> et filtrer les universités italiennes.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>On souhaite accéder à un <a href="https://fr.wiktionary.org/wiki/Annexe:Expressions_en_fran%C3%A7ais">répertoire d’expressions idiomatiques</a> et trouver toutes celles contenant le mot “nez”.</li>
</ul>
</div>
</section>
<section id="webscraping-webcrawling-screen-scraping-quelles-différences" class="slide level2 smaller" data-background-size="contain">
<h2><code>Webscraping</code>, <code>webcrawling</code>, <code>screen scraping</code>, quelles différences ?</h2>
<p><br></p>
<ul>
<li>Le <span class="orange">webscraping</span> se réfère à l’extraction des données d’une ou plusieurs pages web.</li>
</ul>
<div class="fragment">
<ul>
<li>Le <a href="https://en.wikipedia.org/wiki/Web_crawler">webcrawling</a> correspond à la recherche (ou la navigation parmi) de nouveaux URLs sur Internet ou sur un site spécifique.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Quant au <a href="https://en.wikipedia.org/wiki/Data_scraping#Screen_scraping">screen scraping</a>, proche du webscraping, il consiste plutôt à extraire le contenu visuel d’un site apparaissant à l’écran, comme des images.</li>
</ul>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p><code>webscraping</code> et <code>webcrawling</code> peuvent aller ensemble :</p>
<ul>
<li>d’abord utiliser un crawler pour récupérer tous les urls d’un site,</li>
<li>puis scraper chacune des pages.</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="cas-dusage-pratiques" class="slide level2" data-background-size="contain">
<h2>Cas d’usage pratiques</h2>
<h4 data-background-size="contain" id="etudes-de-marché-et-intelligence-économique">Etudes de marché et intelligence économique</h4>
<ul>
<li>Faire un suivi des prix sur des site de ventes (possiblement concurrents) en les scrapant régulièrement</li>
</ul>
<div class="fragment">
<ul>
<li>Glaner des informations sur les sites d’entreprises concurrentes</li>
</ul>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Exemple</strong></p>
</div>
<div class="callout-content">
<p>Dans les répertoires d’expressions idiomatiques, il est facile de “dérober” les contenus les uns des autres (<a href="https://www.expressio.fr/toutes-les-expressions">Expressio</a>, <a href="https://www.expressions-francaises.fr/">Expressions Françaises</a>, <a href="https://www.linternaute.fr/expression/">L’internaute</a>, …)</p>
</div>
</div>
</div>
</div>
</section>
<section id="cas-dusage-pratiques-1" class="slide level2" data-background-size="contain">
<h2>Cas d’usage pratiques</h2>
<h4 data-background-size="contain" id="analyses-de-sentiment-et-génération-de-leads">Analyses de sentiment et génération de <em>leads</em></h4>
<ul>
<li>Récupérer les commentaires d’un produit ou d’une entreprise sur un site tiers afin d’analyser les retours obtenus et faire du sentiment analysis</li>
</ul>
<div class="fragment">
<ul>
<li>Obtenir une liste de clients potentiels ou répondant à des critères spécifiques
<ul>
<li>A partir de sites comme les <a href="https://www.pagesjaunes.fr/pagesblanches">Pages Jaunes</a> ou <a href="https://www.google.com/business/">Google Maps</a> pour les entreprises</li>
</ul></li>
</ul>
</div>
</section>
<section id="cas-dusage-pratiques-2" class="slide level2" data-background-size="contain">
<h2>Cas d’usage pratiques</h2>
<h4 data-background-size="contain" id="obtenir-des-données-pour-alimenter-des-modèles-de-ml">Obtenir des données pour alimenter des modèles de ML</h4>
<ul>
<li>Regrouper divers indicateurs et séries temporelles via les <a href="https://trends.google.fr/trends/?geo=FR">Google Trends</a> pour améliorer les performances de modèles de prédiction</li>
</ul>
<div class="fragment">
<ul>
<li>Surveiller les valeurs de stocks boursiers et mouvements de marché sur <a href="https://fr.finance.yahoo.com/">Yahoo Finance</a> et les inclure dans des modèles</li>
</ul>
</div>
</section>
<section id="cas-dusage-pratiques-3" class="slide level2 smaller" data-background-size="contain">
<h2>Cas d’usage pratiques</h2>
<h4 data-background-size="contain" id="très-utiles-dans-des-domaines-précis">Très utiles dans des domaines précis</h4>
<ul>
<li>Dans le domaine immobilier, de nombreuses agences utilisent le scraping pour alimenter leur propre base de biens à vendre ou à louer.</li>
</ul>
<div class="fragment">
<ul>
<li>Dans le domaine aérien, nombreux sont les comparateurs en lignes qui ont recours au scraping pour présenter des offres de trajets issues de plusieurs compagnies.
<ul>
<li>Ce n’est d’ailleurs pas spécifique qu’au domaine du transport (ex: hébergement touristique).</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Dans le domaine des paris sportifs, il est courant de scraper les sites de statistiques sportives afin d’adapter l’offre des paris.</li>
</ul>
</div>
</section>
<section id="cas-dusage-pratiques-4" class="slide level2" data-background-size="contain">
<h2>Cas d’usage pratiques</h2>
<h4 data-background-size="contain" id="dans-le-domaine-de-la-recherche">Dans le domaine de la recherche</h4>
<ul>
<li><p>Pour des chercheurs, le webscraping peut représenter une importance source de données, et ce dans des domaines très variés.</p></li>
<li><p>Un exemple <a href="https://www.nature.com/articles/s41597-022-01369-4">ici</a> avec une équipe ayant scrapé <code>Wikipedia</code> et <code>Wikidata</code> afin d’établir une base de données de tous les individus ayant leur propre page, pour ensuite établir des statistiques par période, par domaine ou par sexe.</p></li>
</ul>
</section>
<section id="cas-dusage-pour-un-ins" class="slide level2" data-background-size="contain">
<h2>Cas d’usage pour un INS</h2>
<ul>
<li><p>Scraper divers sites de ventes afin d’obtenir des données de prix pour le calcul de l’indice des prix à la consommation</p></li>
<li><p>Compléter des données de statistiques d’entreprises avec des informations disponibles en ligne</p></li>
<li><p>Minimiser les fardeaux de réponse lors des enquêtes en favorisant le scraping</p></li>
</ul>
</section></section>
<section>
<section id="risques-juridiques-et-scraping-éthique" class="title-slide slide level1 center" data-background-size="contain">
<h1>Risques juridiques et scraping éthique</h1>

</section>
<section id="le-webscraping-est-ce-légal" class="slide level2 smaller" data-background-size="contain">
<h2>Le webscraping, est-ce légal ?</h2>
<ul>
<li>Le webscraping en soi n’est pas une pratique illégale
<ul>
<li>mais l’utilisation faite des données scrapées peut être soumise à règlementation.</li>
<li>ces règles dépendent alors du pays dans lequel on se trouve.</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Ainsi, scraper un site pour conserver les données sur son ordinateur est légal (tant qu’on ne casse pas le site en question).
<ul>
<li>Un <code>bot</code> de scraping n’a pas accès à davantage qu’un utilisateur lambda.</li>
</ul></li>
</ul>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Attention</strong></p>
</div>
<div class="callout-content">
<p>Diffuser ou commercialiser ces données ou un quelconque travail réutilisant ces données n’est pas sans conséquence.</p>
</div>
</div>
</div>
</div>
</section>
<section id="une-frontière-floue" class="slide level2" data-background-size="contain">
<h2>Une frontière floue</h2>
<ul>
<li>Les législations spécifiques au webscraping sont peu nombreuses et différentes d’un pays à l’autre.</li>
</ul>
<div class="fragment">
<ul>
<li>En revanche, la réutilisation des données est encadrée
<ul>
<li>Par exemple par le code de la propriété intellectuelle ou en Europe par le RGPD.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Les <a href="https://devm.io/law-net-culture/data-scraping-cases-165385">cas portés en justice</a> ont des dénouements parfois différents les uns les autres, notamment d’un pays à l’autre, montrant bien qu’il s’agit là d’une zone parfois grise.</li>
</ul>
</div>
</section>
<section id="une-pratique-pourtant-très-répandue" class="slide level2" data-background-size="contain">
<h2>Une pratique pourtant très répandue</h2>
<ul>
<li><p>Les cas d’usage, y compris dans de grandes entreprises, sont très nombreux.</p></li>
<li><p>Les articles discutant de webscraping et de leur légalité sont tout aussi proliférants, mais pas toujours d’accord les uns avec les autres.</p>
<ul>
<li>Quelques ressources : <a href="https://www.imperva.com/blog/is-web-scraping-illegal/">Imperva</a>, <a href="https://islean-consulting.fr/fr/transformation-digitale/scraping-pages-web-legal/">Islean Consulting</a>, <a href="https://techcrunch.com/2022/04/18/web-scraping-legal-court/?guccounter=1&amp;guce_referrer=aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8&amp;guce_referrer_sig=AQAAAHKyxBPQT3OjdH-GZcMTIuzyt5qWfCZEFzl20DcXDw3qj3-8b7BWO4w758nkxE7ZEJ_moEqIr50FF8LU0F7lAqnPKGaT3Jt27YU7NJ5WClf9TgXxnEBEahJrPBE4oi9KGsmCtsfS5rlDzgDhBAzOzbkrIskSDjRNggw4TKHJ5oKL">TechCrunch</a>…</li>
</ul></li>
</ul>
</section>
<section id="les-principales-règlementations-autour-du-webscraping" class="slide level2 smaller" data-background-size="contain">
<h2>Les principales règlementations autour du webscraping</h2>
<h4 data-background-size="contain" id="en-france">En France</h4>
<ul>
<li><p><a href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000006279247">L’article L342-1 du code de la propriété intellectuelle</a></p></li>
<li><p>L’<a href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000030939448">article 323-3 du Code Pénal</a> :</p>
<blockquote>
<p>“Le fait […] d’extraire, de détenir, de reproduire […] frauduleusement les données qu’il [le site] contient est puni de cinq ans d’emprisonnement et de 150 000 € d’amende”</p>
</blockquote></li>
<li><p>En termes de droit de la concurrence, on pourra aussi parler de concurrence déloyale avec l’<a href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000032227301/">article L121-1 du Code de la Consommation</a></p></li>
<li><p>La <code>CNIL</code> a également publié en 2020 un ensemble de <a href="https://www.cnil.fr/fr/la-reutilisation-des-donnees-publiquement-accessibles-en-ligne-des-fins-de-demarchage-commercial">nouvelles directives</a>, limitant l’usage de données personnelles, même si publiques, à usage commercial</p></li>
</ul>
</section>
<section id="les-principales-règlementations-autour-du-webscraping-1" class="slide level2 smaller" data-background-size="contain">
<h2>Les principales règlementations autour du webscraping</h2>
<h4 data-background-size="contain" id="en-europe">En Europe</h4>
<ul>
<li><p>Le droit <a href="https://fr.wikipedia.org/wiki/Sui_generis">sui generis</a>, à l’échelle européenne, protégeant les bases de données ayant nécessité un <em>“investissement substantiel”</em></p></li>
<li><p>Certains règlements et directives relatifs à la protection des bases de données en Europe</p>
<ul>
<li><a href="https://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CELEX:31996L0009:fr:HTML">Directive 96/9/CE</a> du Parlement Européen et du conseil</li>
<li><a href="https://info.haas-avocats.com/droit-digital/data-governance-act-reglement-europeen">Data Governance Act</a>, prévu pour septembre 2023</li>
</ul></li>
<li><p>Le <a href="https://www.cnil.fr/fr/reglement-europeen-protection-donnees">RGPD</a>, sur l’utilisation des données (parfois personnelles)</p></li>
</ul>
</section>
<section id="les-principales-règlementations-autour-du-webscraping-2" class="slide level2 smaller" data-background-size="contain">
<h2>Les principales règlementations autour du webscraping</h2>
<h4 data-background-size="contain" id="encore-dautres">Encore d’autres</h4>
<ul>
<li><p>Les jurisprudences issues des procès d’entreprises liés au webscraping</p></li>
<li><p>Les mentions légales, conditions d’utilisation et autres consignes des sites concernés,</p>
<ul>
<li>d’autant plus engageantes quand accéder au contenu nécessite d’accepter explicitement les conditions du site (par exemple en appuyant sur un bouton)</li>
</ul></li>
<li><p>Aux États-Unis, plusieurs textes peuvent s’appliquer : le <a href="https://oag.ca.gov/privacy/ccpa">California Consumer Privacy Act</a>, le <a href="https://www.nacdl.org/Landing/ComputerFraudandAbuseAct">Computer Fraud and Abuse Act</a>…</p></li>
</ul>
</section>
<section id="les-sites-se-protègent-eux-mêmes" class="slide level2" data-background-size="contain">
<h2>Les sites se protègent eux-mêmes</h2>
<ul>
<li><p>Afin d’éviter la réutilisation de leur contenu par des concurrents et lutter contre l’espionnage</p></li>
<li><p>Afin de bloquer les <code>bots</code> qui occupent une partie significative du trafic, ralentissant ainsi l’accès au site,</p>
<ul>
<li>peuvent s’assimiler à une <a href="https://fr.wikipedia.org/wiki/Attaque_par_d%C3%A9ni_de_service">attaque par déni de service (<code>DoS</code>)</a></li>
</ul></li>
</ul>
</section>
<section id="les-méthodes-mises-en-place-pour-se-protéger-du-scraping-12" class="slide level2" data-background-size="contain">
<h2>Les méthodes mises en place pour se protéger du scraping (1/2)</h2>
<ul>
<li>Mettre en place des <span class="blue2"><strong>conditions d’utilisation contraignantes</strong></span> et <span class="blue2"><strong>instructions explicites</strong></span> pour se protéger d’un point de vue légal</li>
</ul>
<div class="fragment">
<ul>
<li>Repérer les adresses IP suspectes et <span class="blue2"><strong>bloquer leur accès</strong></span> au site, temporairement ou de façon permanente</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="blue2"><strong>Identifier les bots</strong></span> et leur afficher un contenu différent des utilisateurs classiques, pour par exemple <span class="blue2"><strong>renvoyer de fausses données</strong></span></li>
</ul>
</div>
</section>
<section id="les-méthodes-mises-en-place-pour-se-protéger-du-scraping-22" class="slide level2" data-background-size="contain">
<h2>Les méthodes mises en place pour se protéger du scraping (2/2)</h2>
<ul>
<li><span class="blue2"><strong>Modifier régulièrement le format HTML</strong></span> du contenu pour empêcher l’automatisation du scraping par autrui</li>
</ul>
<div class="fragment">
<ul>
<li><span class="blue2"><strong>Créer des pages <em>“Honeypot”</em></strong></span> qu’un humain ne visiterait jamais pour identifier puis bloquer des bots</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="blue2"><strong>Utiliser des CAPTCHAs</strong></span> lorsqu’une activité suspecte est repérée ou bien nécessiter une connexion au site</li>
</ul>
</div>
</section>
<section id="les-limites-du-webscraping" class="slide level2 smaller" data-background-size="contain">
<h2>Les limites du webscraping</h2>
<ul>
<li>La qualité des données obtenues par scraping n’est pas toujours au rendez-vous.</li>
</ul>
<div class="fragment">
<ul>
<li>Il faut ‘lutter’ contre les sites qui se défendent contre le scraping, ce qui n’est pas sans effort.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Les risques légaux sont existants, et plus généralement cela peut nuire à l’image d’un INS.
<ul>
<li>Il vaut mieux favoriser des relations de confiance avec les sites concernés.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Difficulté à automatiser car la structure des pages web évolue</li>
</ul>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Remarque</strong></p>
</div>
<div class="callout-content">
<p>Il est préférable de privilégier d’autres modes d’accès aux données lorsque cela est possible</p>
</div>
</div>
</div>
</div>
</section>
<section id="dans-ces-conditions-quand-envisager-le-webscraping" class="slide level2 smaller" data-background-size="contain">
<h2>Dans ces conditions, quand envisager le webscraping ?</h2>
<p><br></p>
<p>La politique de l’INSEE est de garder le webscraping comme <strong>dernière option</strong>. Les premières étapes recommandées sont d’abord de :</p>
<ul>
<li>Demander directement aux sites concernés l’accès à leurs données et nouer d’éventuels partenariats, par exemple avec une contrepartie</li>
<li>Chercher s’il existe une <code>API</code> du site permettant d’accéder aux données</li>
<li>Chercher des alternatives, comme accéder à des données similaires via un moyen moins contraignant</li>
</ul>
</section>
<section id="pour-un-scraping-éthique-et-légal" class="slide level2 smaller" data-background-size="contain">
<h2>Pour un scraping éthique (et légal !)</h2>
<ul>
<li>Le webscraping reste malgré tout une nouvelle source de données très pratique dans le cas où aucune meilleure alternative ne se présente.
<ul>
<li>Il ne faut donc pas s’en priver lorsque c’est techniquement et juridiquement propice.</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Cependant, il existe des moyens de scraper de façon honnête, “éthique” et en minimisant la charge sur le site scrapé.
<ul>
<li>Cela passe par exemple par <strong>demander la permission</strong> aux sites à scraper, ce qui peut aussi conduire à un éventuel partenariat.</li>
</ul></li>
</ul>
</div>
</section>
<section id="les-guidelines-du-système-statistique-européen" class="slide level2" data-background-size="contain">
<h2>Les guidelines du <code>Système Statistique Européen</code></h2>
<h4 data-background-size="contain" id="transparence">Transparence</h4>
<ul>
<li><p>Rendre publique la liste des collectes de données par scraping de l’INS, autrement dit être transparent</p></li>
<li><p>Si l’impact sur site va être important (par exemple un scraping fait très fréquemment), informer spécifiquement le site concerné</p>
<ul>
<li>Plus généralement, prendre le réflexe de demander la permission</li>
</ul></li>
<li><p>S’identifier auprès du site lors de l’opération de scraping</p></li>
</ul>
</section>
<section id="les-guidelines-du-système-statistique-européen-1" class="slide level2" data-background-size="contain">
<h2>Les guidelines du <code>Système Statistique Européen</code></h2>
<h4 data-background-size="contain" id="minimiser-limpact">Minimiser l’impact</h4>
<ul>
<li><p>Toujours chercher à minimiser l’impact sur les serveurs du site scrapé, notamment en limitant les requêtes effectuées au minimum requis</p></li>
<li><p>Privilégier les heures creuses du site pour les opérations automatisées de scraping</p></li>
<li><p>Étaler les requêtes en laissant un temps de ‘pause’ entre chaque requête sur site, surtout sur un même domaine</p></li>
</ul>
</section>
<section id="les-guidelines-du-système-statistique-européen-2" class="slide level2" data-background-size="contain">
<h2>Les guidelines du <code>Système Statistique Européen</code></h2>
<h4 data-background-size="contain" id="confiance">Confiance</h4>
<ul>
<li><p>Favoriser les échanges avec les propriétaires des sites : partenariats, échanges de données, requêtes d’API, …</p></li>
<li><p>Se plier aux conditions d’utilisation des sites concernés et aux règlementations de la zone concernée</p></li>
<li><p>Manipuler de façon sécurisée les données scrapées</p>
<ul>
<li>Ex : En Europe, respecter le RGPD</li>
</ul></li>
</ul>
</section>
<section id="ce-quil-ne-faut-pas-faire" class="slide level2 smaller" data-background-size="contain">
<h2>⚠️ Ce qu’il ne faut pas faire !</h2>
<ul>
<li><p>Consciemment déroger aux règlementations applicables et manquer de transparence</p></li>
<li><p>Surcharger les requêtes sur le site concerné (assimilable à une attaque DoS) ou multiplier les mêmes requêtes plusieurs fois</p></li>
<li><p>Paralléliser les requêtes ou faire ces dernières en heures pleines</p></li>
<li><p>Diffuser de façon non autorisée des données scrapées non publiques ou soumises à droit d’auteur</p></li>
<li><p>Pour un INS, utiliser le scraping à des fins non statistiques ou hors du champ légal</p></li>
</ul>
</section>
<section id="avertissements" class="slide level2 smaller" data-background-size="contain">
<h2>Avertissements</h2>
<ul>
<li>Selon les pays, il existe des données, certes publiques, mais dont le scraping est illégal.
<ul>
<li>Il faut donc bien se renseigner sur les lois locales.</li>
<li>Par exemple, les <a href="XXXXXXXXXXXXXXXX">données de contact en Australie</a></li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Dans le doute, ne pas hésiter à se documenter davantage.
<ul>
<li>Exemples de ressources : <a href="https://librarycarpentry.org/lc-webscraping/05-conclusion/index.html">librarycarpentry</a>, <a href="https://rubyroidlabs.com/blog/2016/04/web-scraping-1/">Rubyroidlabs</a>, …</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Il existe parfois des structures dont le rôle est justement d’évaluer l’aspect juridique de pratiques comme le webscraping.</li>
</ul>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>A l’INSEE, c’est la responsabilité de l’<a href="https://lannuaire.service-public.fr/gouvernement/bd0be1df-7153-44b0-ab29-43d125837532">UAJC</a></p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="rappels-sur-html" class="title-slide slide level1 center" data-background-size="contain">
<h1>Rappels sur HTML</h1>

</section>
<section id="comprendre-la-nature-dune-page-web" class="slide level2 smaller" data-background-size="contain">
<h2><a href="https://developer.mozilla.org/fr/docs/Learn/Getting_started_with_the_web">Comprendre la nature d’une page web</a></h2>
<ul>
<li>Un site Internet est constitué de diverses pages Web.
<ul>
<li>Celles-ci sont le produit de fichiers appelés codes source des pages.</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Les 3 langages principaux pour les coder sont :
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML">HTML</a> : pour composer la structure des pages via un système de balises</li>
<li><a href="https://developer.mozilla.org/fr/docs/Web/CSS">CSS</a> : des feuilles de style pour décrire la présentation de pages HTML</li>
<li><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript">Javascript</a> : pour tout ce qui est relatif à l’interactivité d’un site (ex : boutons)</li>
</ul></li>
</ul>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip With Caption</strong></p>
</div>
<div class="callout-content">
<ul>
<li>W3C</li>
<li>Mozilla doc</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="inspecter-une-page-web" class="slide level2" data-background-size="contain">
<h2>Inspecter une page web</h2>
<ul>
<li><p>Il est possible d’afficher le code source des pages Web, parmi lequel les scrapeurs doivent naviguer.</p></li>
<li><p><code>Clic droit</code> sur la page puis</p>
<ul>
<li><em>“Inspecter l’élément”</em> pour observer un endroit spécifique de la page</li>
<li><em>“Afficher le code source de la page”</em> pour afficher le code de toute la page</li>
</ul></li>
</ul>
</section>
<section id="hiérarchisation-dune-page-web" class="slide level2" data-background-size="contain">
<h2>Hiérarchisation d’une page web</h2>
<h4 data-background-size="contain" id="les-balises-html">Les balises HTML</h4>
<ul>
<li>Sur une page web, vous trouverez à coup sûr des éléments comme <code>&lt;head&gt;</code>, <code>&lt;title&gt;</code>, etc. Il s’agit des codes qui vous permettent de structurer le contenu d’une page <em>HTML</em> et qui s’appellent des <strong>balises</strong>.
<ul>
<li>Par exemple, les balises <code>&lt;p&gt;</code>, <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, <code>&lt;h3&gt;</code>, <code>&lt;strong&gt;</code> ou <code>&lt;em&gt;</code>.</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Le symbole <code>&lt; &gt;</code> est une balise : il sert à indiquer le début d’une partie. Le symbole <code>&lt;/ &gt;</code> indique la fin de cette partie.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>La plupart des balises vont par paires, avec une <em>balise ouvrante</em> et une <em>balise fermante</em> (par exemple <code>&lt;p&gt;</code> et <code>&lt;/p&gt;</code>).</li>
</ul>
</div>
</section>
<section id="exemple-les-balises-de-tableau" class="slide level2" data-background-size="contain">
<h2>Exemple : les balises de tableau</h2>
<table>
<thead>
<tr class="header">
<th>Balise</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;table&gt;</code></td>
<td>Tableau</td>
</tr>
<tr class="even">
<td><code>&lt;caption&gt;</code></td>
<td>Titre du tableau</td>
</tr>
<tr class="odd">
<td><code>&lt;tr&gt;</code></td>
<td>Ligne de tableau</td>
</tr>
<tr class="even">
<td><code>&lt;th&gt;</code></td>
<td>Cellule d’en-tête</td>
</tr>
<tr class="odd">
<td><code>&lt;td&gt;</code></td>
<td>Cellule</td>
</tr>
<tr class="even">
<td><code>&lt;thead&gt;</code></td>
<td>Section de l’en-tête du tableau</td>
</tr>
<tr class="odd">
<td><code>&lt;tbody&gt;</code></td>
<td>Section du corps du tableau</td>
</tr>
<tr class="even">
<td><code>&lt;tfoot&gt;</code></td>
<td>Section du pied du tableau</td>
</tr>
</tbody>
</table>
</section>
<section id="un-exemple-le-code-html" class="slide level2" data-background-size="contain">
<h2>Un exemple : le code <em>HTML</em></h2>
<h3 data-auto-animate="true" data-background-size="contain" id="section"></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource {html} number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1"><a href="#cb1-1"></a>&lt;table&gt;</span>
<span id="cb1-2"><a href="#cb1-2"></a>&lt;caption&gt; Le Titre de mon tableau &lt;/caption&gt;</span>
<span id="cb1-3"><a href="#cb1-3"></a>   &lt;tr&gt;</span>
<span id="cb1-4"><a href="#cb1-4"></a>      &lt;th&gt;Prénom&lt;/th&gt;</span>
<span id="cb1-5"><a href="#cb1-5"></a>      &lt;th&gt;Nom&lt;/th&gt;</span>
<span id="cb1-6"><a href="#cb1-6"></a>      &lt;th&gt;Profession&lt;/th&gt;</span>
<span id="cb1-7"><a href="#cb1-7"></a>   &lt;/tr&gt;</span>
<span id="cb1-8"><a href="#cb1-8"></a>   &lt;tr&gt;</span>
<span id="cb1-9"><a href="#cb1-9"></a>      &lt;td&gt;Mike &lt;/td&gt;</span>
<span id="cb1-10"><a href="#cb1-10"></a>      &lt;td&gt;Stuntman&lt;/td&gt;</span>
<span id="cb1-11"><a href="#cb1-11"></a>      &lt;td&gt;Cascadeur&lt;/td&gt;</span>
<span id="cb1-12"><a href="#cb1-12"></a>   &lt;/tr&gt;</span>
<span id="cb1-13"><a href="#cb1-13"></a>   &lt;tr&gt;</span>
<span id="cb1-14"><a href="#cb1-14"></a>      &lt;td&gt;Mister&lt;/td&gt;</span>
<span id="cb1-15"><a href="#cb1-15"></a>      &lt;td&gt;Pink&lt;/td&gt;</span>
<span id="cb1-16"><a href="#cb1-16"></a>      &lt;td&gt;Gangster&lt;/td&gt;</span>
<span id="cb1-17"><a href="#cb1-17"></a>   &lt;/tr&gt;</span>
<span id="cb1-18"><a href="#cb1-18"></a>&lt;/table&gt;</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="un-exemple-le-code-html-1" class="slide level2" data-background-size="contain">
<h2>Un exemple : le code <em>HTML</em></h2>
<h3 data-auto-animate="true" data-background-size="contain" id="section-1"></h3>

<table>
<caption>
Le Titre de mon tableau
</caption>
<tbody><tr>
<th>
Prénom
</th>
<th>
Nom
</th>
<th>
Profession
</th>
</tr>
<tr>
<td>
Mike
</td>
<td>
Stuntman
</td>
<td>
Cascadeur
</td>
</tr>
<tr>
<td>
Mister
</td>
<td>
Pink
</td>
<td>
Gangster
</td>
</tr>

</tbody></table>
</section>
<section id="scraping-dune-page-web" class="slide level2" data-background-size="contain">
<h2>Scraping d’une page web</h2>
<ul>
<li><p>Le webscraping consiste à naviguer parmi ces balises <em>HTML</em> pour extraire le contenu désiré (textes, tableaux, images, …).</p></li>
<li><p>Il est aussi possible de récupérer d’autres url sur une page pour s’y rendre et les scraper ensuite.</p></li>
<li><p>Dans certains cas plus complexes, lire le contenu <em>HTML</em> ne suffit pas, par exemple s’il faut cliquer sur des boutons pour faire apparaître le contenu désiré.</p></li>
</ul>
</section>
<section id="xpath" class="slide level2" data-background-size="contain">
<h2><a href="https://librarycarpentry.org/lc-webscraping/02-xpath/index.html">XPath</a></h2>
<ul>
<li><p>Une page web peut aussi se présenter sous le format XML, proche du HTML.</p></li>
<li><p>Afin de justement naviguer dans une page HTML ou XML, on fait appel à un langage d’expressions appelé XPath.</p>
<ul>
<li>Ce sont des expressions XPath qui seront utilisées en appel des fonctions.</li>
<li>XPath permet ainsi de se déplacer de noeud en noeud dans la structure arborescente d’une page.</li>
</ul></li>
</ul>
</section></section>
<section id="ii.-mise-en-pratique" class="title-slide slide level1 center" data-background-size="contain">
<h1>II. Mise en pratique</h1>

</section>

<section id="ii.-sommaire" class="title-slide slide level1 center" data-background-size="contain">
<h1>II. Sommaire</h1>
<p>Insérer sommaire cliquable</p>
</section>

<section>
<section id="présentation-des-différentes-librairies" class="title-slide slide level1 center" data-background-size="contain">
<h1>Présentation des différentes librairies</h1>

</section>
<section id="les-librairies-principales-sur-python" class="slide level2" data-background-size="contain">
<h2>Les <a href="https://www.projectpro.io/article/python-libraries-for-web-scraping/625#mcetoc_1gb5hj7o81i">librairies principales</a> sur Python</h2>
<p>Plusieurs librairies permettent de faire du scraping en Python. Les principales sont :</p>
<ul>
<li><a href="https://requests.readthedocs.io/en/latest/">Requests</a></li>
<li><a href="https://docs.python.org/fr/3/library/urllib.html">Urllib</a></li>
<li><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup</a></li>
<li><a href="https://selenium-python.readthedocs.io/">Selenium</a></li>
<li><a href="https://scrapy.org/">Scrapy</a></li>
</ul>
</section>
<section id="extraire-les-codes-sources-html-requests-et-urllib" class="slide level2" data-background-size="contain">
<h2>Extraire les codes sources HTML : Requests et Urllib</h2>
<ul>
<li>Rôle :
<ul>
<li>Créer des requêtes HTTP pour récupérer le contenu des pages web</li>
<li>Des headers peuvent être ajoutés aux requêtes pour s’identifier auprès du site</li>
</ul></li>
<li>Requests un peu plus simpliste que Urllib</li>
</ul>
</section>
<section id="analyser-les-codes-html-beautifulsoup" class="slide level2" data-background-size="contain">
<h2>Analyser les codes HTML : BeautifulSoup</h2>
<ul>
<li>Permet de formater des documents HTML ou XML en une structure arborescente</li>
<li>Permet ensuite de naviguer dans la structure pour scraper le contenu désiré</li>
<li>Très intuitif à utiliser</li>
</ul>
</section>
<section id="interagir-avec-une-page-selenium" class="slide level2" data-background-size="contain">
<h2>Interagir avec une page : Selenium</h2>
<ul>
<li>Les librairies précédentes ne permettent pas d’interagir avec une page utilisant Javascript
<ul>
<li>Ex: Appuyer sur un bouton, rentrer ses identifiants, …</li>
</ul></li>
<li>Selenium permet de simuler un navigateur (<a href="https://en.wikipedia.org/wiki/Headless_browser">headless browser</a>) puis d’interagir avec les éléments Javascript du site “comme un utilisateur”</li>
</ul>
</section>
<section id="un-outil-plus-complet-scrapy" class="slide level2" data-background-size="contain">
<h2>Un outil plus complet : Scrapy</h2>
<ul>
<li>Un outil plus plus complet mais aussi plus complexe</li>
<li>Très utile pour les opérations de web crawling</li>
<li>Davantage recommandé pour de gros projets</li>
<li>Un tutoriel par <a href="https://librarycarpentry.org/lc-webscraping/04-scrapy/index.html">Library Carpentry</a></li>
</ul>
</section>
<section id="quelques-librairies-sur-r" class="slide level2" data-background-size="contain">
<h2>Quelques librairies sur R</h2>
<ul>
<li><a href="https://cran.r-project.org/web/packages/polite/index.html">polite</a>
<ul>
<li>Particulièrement orienté scraping éthique</li>
</ul></li>
<li><a href="https://thinkr.fr/rvest/">rvest</a>
<ul>
<li>Librairie la plus utilisée et donc documentée</li>
</ul></li>
<li>D’autres librairies : <a href="https://cran.r-project.org/web/packages/Rcrawler/Rcrawler.pdf">RCrawler</a>, <a href="https://cran.r-project.org/web/packages/RSelenium/index.html">RSelenium</a></li>
</ul>
</section>
<section id="quelques-librairies-en-java" class="slide level2" data-background-size="contain">
<h2>Quelques librairies en Java</h2>
<ul>
<li><p>Java est également beaucoup utilisé dans le domaine du webscraping</p></li>
<li><p>Documentation extensive disponible sur Internet</p></li>
</ul>
</section></section>
<section>
<section id="partie-pratique" class="title-slide slide level1 center" data-background-size="contain">
<h1>Partie pratique</h1>

</section>
<section id="une-plateforme-de-travail-onyxia-et-le-ssp-cloud" class="slide level2" data-background-size="contain">
<h2>Une plateforme de travail : Onyxia et le SSP Cloud</h2>
<p>Insérer courte présentation SSP Cloud + Onyxia</p>
</section>
<section id="comment-utiliser-le-ssp-cloud" class="slide level2" data-background-size="contain">
<h2>Comment utiliser le SSP Cloud ?</h2>
<p>Insérer rapides explications utilisation</p>
</section>
<section id="mise-en-pratique-se-familiariser-à-beautifulsoup-et-selenium" class="slide level2" data-background-size="contain">
<h2>Mise en pratique : se familiariser à BeautifulSoup et Selenium</h2>
<p>Insérer TP webscraping Lino cours Python</p>
</section></section>
<section>
<section id="aspects-techniques-du-scraping-éthique" class="title-slide slide level1 center" data-background-size="contain">
<h1>Aspects techniques du scraping éthique</h1>

</section>
<section id="les-guidelines-du-sse-sidentifier" class="slide level2" data-background-size="contain">
<h2>Les guidelines du SSE : s’identifier</h2>
<ul>
<li><p>S’identifier via le champ <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent">“user-agent”</a>, l’un des headers renseignables lors d’une requête HTTP</p></li>
<li><p>Un autre champ parmi les headers possible : “from”</p></li>
<li><p>Renseigner son nom, entité, coordonnées</p></li>
<li><p>On peut aussi inclure l’url contenant les informations liées à la collecte ou une explication sur les données prélevées</p></li>
</ul>
</section>
<section id="les-guidelines-du-sse-suivre-les-conventions" class="slide level2" data-background-size="contain">
<h2>Les guidelines du SSE : suivre les conventions</h2>
<ul>
<li><p>Il existe plusieurs conventions liées à l’utilisation d’Internet et du scraping qu’il faut tâcher de respecter.</p></li>
<li><p>On citera le <a href="https://www.w3.org/TR/dwbp/">Word Wide Web Consurtium</a> (W3C), notamment sur les protocoles de transfert hypertexte.</p></li>
<li><p>Essentiel pour le scraping, il est vivement recommandé de se plier au <a href="https://en.wikipedia.org/wiki/Robots_exclusion_standard">protocole d’exclusion des robots</a>.</p>
<ul>
<li>En tapant un url suivi de ‘/robots.txt’, on peut accéder à une page du site indiquant quels sont les contenus autorisés par le site à scraper ou non.</li>
<li>Les crawlers peuvent lire ces fichiers et s’y plier d’eux-mêmes (cf <a href="https://www.ibm.com/docs/en/wca/3.5.0?topic=crawlers-how-web-crawler-uses-robots-exclusion-protocol">IBM</a>).</li>
</ul></li>
</ul>
</section>
<section id="contourner-les-défenses-des-sites" class="slide level2" data-background-size="contain">
<h2>Contourner les défenses des sites</h2>
<p>Quelques pratiques admises pour ne pas être bloqué par les sites scrapés :</p>
<ul>
<li><p>Ajouter des pauses entre chaque requête, pour ne pas aller plus vite qu’un utilisateur ne le pourrait (time.sleep() en Python)</p></li>
<li><p>Modifier régulièrement le champ user-agent (par exemple avec un compteur) avant que celui-ci ne se fasse bloquer</p></li>
</ul>
</section></section>
<section>
<section id="automatisation-et-industrialisation" class="title-slide slide level1 center" data-background-size="contain">
<h1>Automatisation et industrialisation</h1>

</section>
<section id="pré-requis" class="slide level2" data-background-size="contain">
<h2>Pré-requis</h2>
<ul>
<li><p>Accès Internet au sein de l’INS avec un proxy bien configuré si existant</p></li>
<li><p>Les sites scrapés doivent être dans l’allow-list et ne doivent pas avoir déjà bloqué l’adresse IP</p></li>
</ul>
</section>
<section id="automatiser-et-industrialiser-les-processus-de-scraping" class="slide level2" data-background-size="contain">
<h2>Automatiser et industrialiser les processus de scraping</h2>
<ul>
<li>En raison des efforts des sites contre le scraping (ex : format des sites changeant régulièremen, blocage des adresses IP),
<ul>
<li>Minimiser les interactions humaines est quasiment impossible</li>
<li>Industrialiser les processus nécessite des révisions régulières</li>
</ul></li>
<li>Automatiser les méthodes peut reposer sur un cronjob ou autre orchestrateur</li>
</ul>
</section>
<section id="stocker-les-données" class="slide level2" data-background-size="contain">
<h2>Stocker les données</h2>
<ul>
<li><p>En général, les données brutes (ex : les pages web) sont stockées dans une base NoSQL et sont traitées ensuite.</p></li>
<li><p>Problème méthodologique courant : différencier le stock du flux.</p>
<ul>
<li>La page web que je viens de scraper est-elle nouvelle ou est-ce la même que celle d’hier ?</li>
<li>Enjeux de déduplication</li>
</ul></li>
</ul>
</section></section>
<section id="iii.-divers-cas-dusage" class="title-slide slide level1 center" data-background-size="contain">
<h1>III. Divers cas d’usage</h1>

</section>

<section id="iii.-sommaire" class="title-slide slide level1 center" data-background-size="contain">
<h1>III. Sommaire</h1>
<p>Insérer sommaire cliquable</p>
</section>

<section>
<section id="quelques-litiges-légaux" class="title-slide slide level1 center" data-background-size="contain">
<h1>Quelques litiges légaux</h1>

</section>
<section id="linkedin-v.-hiq-labs-2019---le-litige" class="slide level2" data-background-size="contain">
<h2><a href="https://www.silicon.fr/linkedin-cour-supreme-americaine-linkedin-410279.html">LinkedIn v. HiQ Labs (2019)</a> - Le litige</h2>
<ul>
<li><p>Contexte : HiQ scrape les données des utilisateurs (accessibles publiquement) pour nourrir un outil de prédiction de l’attrition, commercialisé ensuite</p></li>
<li><p>Cas : LinkedIn tente d’interdire la collecte au nom du <a href="https://www.nacdl.org/Landing/ComputerFraudandAbuseAct">CFAA</a> et d’une violation des conditions d’utilisation du site, et HiQ saisit la justice pour se défendre</p></li>
<li><p>Verdict : Deux victoires (tribunal californien et Cour Suprême) pour HiQ, dont le maintien de l’activité de scraping est autorisé</p></li>
</ul>
</section>
<section id="linkedin-v.-hiq-labs-2019---les-conclusions" class="slide level2" data-background-size="contain">
<h2><a href="https://www.csoonline.com/article/3662039/hiq-v-linkedin-court-ruling-will-have-a-material-effect-on-privacy.html">LinkedIn v. HiQ Labs (2019)</a> - Les conclusions</h2>
<ul>
<li><p>LinkedIn n’est pas propriétaire des données : ce sont en réalité les membres eux-mêmes. Les utilisateurs qui choisissent un profil public attendent « évidemment » qu’il soit accessible par des tiers.</p></li>
<li><p>Laisser à LinkedIn le contrôle sur l’utilisation des données publiques pourrait engendrer un « monopole de l’information » préjudiciable à l’intérêt public.</p></li>
<li><p>Le CFAA est inadapté pour ce type de cas.</p></li>
<li><p>HiQ n’a scrapé que des données auxquelles n’importe quel utilisateur a accès, et LinkedIn ne peut pas les leur interdire spécifiquement.</p></li>
</ul>
</section>
<section id="ryanair-v.-opodo-2010---le-litige" class="slide level2" data-background-size="contain">
<h2><a href="https://www.legalis.net/jurisprudences/tribunal-de-grande-instance-de-paris-3eme-chambre-2eme-section-jugement-du-09-avril-2010/">Ryanair v. Opodo (2010)</a> - Le litige</h2>
<ul>
<li><p>Contexte : Opodo scrape les données du site de Ryanair (entre autres) pour les agréger en un comparateur de prix de billets</p></li>
<li><p>Cas : Ryanair attaque Opodo en justice dans plusieurs pays européens, notamment en France, pour non respect des CGU, concurrence déloyale et parasitisme</p></li>
<li><p>Verdict : Différent selon les pays, mais en France Rayanair a été débouté à deux reprises</p></li>
</ul>
</section>
<section id="ryanair-v.-opodo-2010---les-conclusions" class="slide level2" data-background-size="contain">
<h2>Ryanair v. Opodo (2010) - Les conclusions</h2>
<p>Le Tribunal de Paris :</p>
<ul>
<li>Rejette l’intégralité des demandes de Ryanair</li>
<li>Condamne Ryanair à d’importantes amendes pour préjudice</li>
<li>Maintient le droit d’Opodo à scraper les données publiques du site de Ryanair</li>
</ul>
</section>
<section id="ryanair-v.-pr-aviation-2015---le-litige" class="slide level2" data-background-size="contain">
<h2><a href="https://prezi.com/po5tmteybziv/ryanair-ltd-v-pr-aviation-bv/">Ryanair v. PR Aviation (2015)</a> - Le litige</h2>
<ul>
<li><p>Contexte : PR Aviation scrape les données du site de Ryanair (entre autres) pour les agréger en un comparateur de prix de billets</p></li>
<li><p>Cas : Ryanair attaque PR Aviation en justice aux Pays-Bas pour ne pas avoir respecté les termes contractuels d’utilisation du site et pour infraction aux directives européennes de protection des données</p></li>
</ul>
</section>
<section id="ryanair-v.-pr-aviation-2015---les-conclusions" class="slide level2" data-background-size="contain">
<h2><a href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A62014CJ0030">Ryanair v. PR Aviation (2015)</a> - Les conclusions</h2>
<p>Décision préliminaire de la <a href="https://european-union.europa.eu/institutions-law-budget/institutions-and-bodies/institutions-and-bodies-profiles/court-justice-european-union-cjeu_en">CJEU</a> :</p>
<ul>
<li>La Directive 96/9/EC ne s’applique pas dans ce cas, car les bases de données ne qualifient pas :
<ul>
<li>Pour le droit au copyright</li>
<li>Pour la protection sui generis</li>
</ul></li>
<li>Ryanair est autorisé à instaurer des limitations contractuelles sur l’autorisation de son site, tant qu’elles ne contradisent pas le droit national</li>
</ul>
</section>
<section id="ryanair-v.-expedia-2019" class="slide level2" data-background-size="contain">
<h2><a href="https://skift.com/2019/09/24/ryanair-and-expedia-settle-screen-scraping-lawsuits-on-2-continents/">Ryanair v. Expedia (2019)</a></h2>
<ul>
<li><p>Contexte : Expedia scrape les données du site de Ryanair (entre autres) pour les agréger sur son comparateur en ligne</p></li>
<li><p>Cas : Ryanair attaque PR Aviation en justice aux Etats-Unis et en Irlande pour ne pas avoir respecté les termes contractuels d’utilisation du site et au nom du CFAA aux Etats-Unis</p></li>
<li><p>Verdict : Accord “à l’amiable” entre les deux géants, mais les vols de Ryanair n’apparaissent plus sur le site d’Expedia</p></li>
</ul>
</section>
<section id="ryanair-v.-kiwi.com-2021---le-litige" class="slide level2" data-background-size="contain">
<h2><a href="https://www.expats.cz/czech-news/article/czech-ticket-seller-kiwi-com-wins-dispute-with-ryanair-over-handling-of-passenger-data">Ryanair v. Kiwi.com (2021)</a> - Le litige</h2>
<ul>
<li><p>Contexte : Kiwi.com scrape les données du site de Ryanair (entre autres) pour les agréger sur son comparateur en ligne</p></li>
<li><p>Cas : Ryanair attaque Kiwi.com en justice en République Tchèque pour ne pas avoir respecté les termes contractuels d’utilisation du site</p></li>
<li><p>Verdict : Première défaite de Kiwi.com, puis victoire en appel auprès de la Cour Constitutionnelle Tchèque</p></li>
</ul>
</section>
<section id="ryanair-v.-kiwi.com-2021---les-conclusions" class="slide level2" data-background-size="contain">
<h2>Ryanair v. Kiwi.com (2021) - Les conclusions</h2>
<ul>
<li><p>La cour régionale de Brno avait imposé à Kiwi.com de se plier aux CGU de Ryanair. Cela impliquait notamment que Kiwi.com devait transmettre à Ryanair plusieurs données personnelles sur ses clients ayant acheté un billet de la compagnie sur la plateforme.</p></li>
<li><p>En cour d’appel, la décision avait été révoquée pour les raisons suivantes :</p>
<ul>
<li>Droit national à la protection judiciaire</li>
<li>Liberté de conduire son entreprise</li>
<li>Le procès initial n’aurait pas suffisamment tenu compte du contexte</li>
</ul></li>
</ul>
</section>
<section id="ryanair-v.-lastminute---italie-2019" class="slide level2" data-background-size="contain">
<h2><a href="https://www.travelmole.com/news/italian-supreme-court-rules-against-ryanair-in-favour-of-lastminute-com-owner/">Ryanair v. Lastminute - Italie (2019)</a></h2>
<ul>
<li><p>Contexte : Lastminute scrape les données du site de Ryanair (entre autres) pour les agréger sur son comparateur en ligne.</p></li>
<li><p>Cas : Ryanair attaque Lastminute en justice en Italie pour ne pas avoir respecté les CGU du site et le droit à la propriété intellectuelle. Ryanair demande également un accès aux données de Lastminute liées aux tickets de la compagnie.</p></li>
<li><p>Verdict : La cour Suprême prend le parti de Lastminute et n’autorise pas l’aspect contractuel des CGU de Ryanair ni l’accès aux données demandées.</p></li>
</ul>
</section>
<section id="ryanair-v.-lastminute---france-2022" class="slide level2" data-background-size="contain">
<h2><a href="https://www.tourmag.com/Ryanair-la-justice-interdit-a-Lastminute-de-vendre-les-billets-de-la-compagnie-_a114106.html">Ryanair v. Lastminute - France (2022)</a></h2>
<ul>
<li><p>Contexte : Lastminute scrape les données du site de Ryanair (entre autres) pour les agréger sur son comparateur en ligne</p></li>
<li><p>Cas : Ryanair attaque Lastminute en justice en France pour ne pas avoir respecté les termes contractuels d’utilisation du site</p></li>
<li><p>Verdict : La cour d’appel de Paris prend le parti de Ryanair et ordonne la cessation immédiate des activités de scraping de Lastminute, en plus de lourdes amendes</p></li>
</ul>
</section>
<section id="affaire-bluetouff---france-2015" class="slide level2" data-background-size="contain">
<h2>Affaire “Bluetouff” - France (2015)</h2>
<ul>
<li><p><a href="https://www.legifrance.gouv.fr/juri/id/JURITEXT000030635061/">Cour de cassation, Chambre criminelle, 20 mai 2015, 14-81.336</a></p>
<ul>
<li><a href="https://www.securitecloud.com/juridique/laffaire-bluetouff-decryptee-par-un-expert-judiciaire/">Un exemple de décryptage</a></li>
</ul></li>
<li><p>Olivier Laurelli, alias Bluetouff, condamné à 3000 euros d’amende pour avoir téléchargé et réutilisé en 2012 (pour diffusion) des données de l’Anses accessibles publiquement sur leur site, là où elles n’auraient pas dû l’être.</p></li>
<li><p>Bluetoof relaxé par le tribunal de Créteil en 2012 puis condamné auprès de la Cour d’appel de Paris en 2015.</p></li>
</ul>
</section>
<section id="dautres-litiges-légaux-en-europe" class="slide level2" data-background-size="contain">
<h2>D’autres litiges légaux en Europe</h2>
<ul>
<li><a href="https://curia.europa.eu/juris/document/document.jsf?docid=145914&amp;doclang=FR">AutoTrack v. GasPedaal</a> (2013 - Pays-Bas)
<ul>
<li>Le métamoteur de recherche GasPedaal est interdit de scraper GasPedaal, notamment car les données scrapées sont réutilisées sans modification notoire.</li>
</ul></li>
</ul>
</section>
<section id="dautres-litiges-légaux-aux-etats-unis" class="slide level2" data-background-size="contain">
<h2>D’autres litiges légaux aux Etats-Unis</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Craigslist_Inc._v._3Taps_Inc.">Craigslist Inc.&nbsp;v. 3Taps Inc.</a> ( 2013 - Etats-Unis)
<ul>
<li>Suite à un accord mutuel, 3Taps et PadMapper ne pourront plus scraper les données de Craiglist et devront lui verser une amende importante.</li>
<li>Le CFAA a été invoqué par Craiglist et accepté par la Cour suite au blocage des adresses IP des deux entreprises et les multiples mises en demeure envoyées pour cesser les activités de collecte. 3Taps avait continué ses activités de scraping en utilisant un VPN (et PadMapper les leur avait scrapées).</li>
</ul></li>
</ul>
</section>
<section id="conclusions-des-jurisprudences---en-europe" class="slide level2" data-background-size="contain">
<h2>Conclusions des jurisprudences - En Europe</h2>
<ul>
<li><p>Les CGU d’un site peuvent être contractuelles auprès d’un jury pour interdire toute pratique de webscraping, sauf si mention contraire par les lois nationales (ex : si supériorité du droit à la concurrence).</p></li>
<li><p>Republier des données scrapées à des fins commerciales sans qu’un travail notable de réutilisation soit fait, et pouvant créer un préjudice pour le site initial, n’est pas autorisé.</p></li>
<li><p>Un contenu accessible publiquement, mais sans que ce ne soit manifestement un choix du site, ne peut pas forcément être légalement scrapé.</p></li>
</ul>
</section>
<section id="conclusions-des-jurisprudences---aux-etats-unis" class="slide level2" data-background-size="contain">
<h2>Conclusions des jurisprudences - Aux Etats-Unis</h2>
<ul>
<li><p>Un site affichant des données publiques dont il n’est pas propriétaire ne peut pas en empêcher le scraping.</p></li>
<li><p>L’activité de webscraping en elle-même ne viole pas le Computer Fraud and Abuse Act.</p></li>
<li><p>Lors d’un litige, bloquer l’adresse IP d’un utilisateur et lui adresser une mise en demeure interdisant le scraping du site peuvent éventuellement suffire à invoquer le CFAA pour protéger les bases de données du site.</p></li>
</ul>
</section>
<section id="et-pour-un-ins-alors" class="slide level2" data-background-size="contain">
<h2>Et pour un INS alors ?</h2>
<ul>
<li>Quid des prérogatives de puissance publique pour recueillir de l’information ?</li>
</ul>
</section></section>
<section>
<section id="le-scraping-à-linsee" class="title-slide slide level1 center" data-background-size="contain">
<h1>Le scraping à l’INSEE</h1>

</section>
<section id="quand-lutiliser" class="slide level2" data-background-size="contain">
<h2>Quand l’utiliser ?</h2>
<ul>
<li>Le webscraping utilisé en dernier recours, l’INSEE favorisera :
<ul>
<li>Accords avec des partenaires (ex : seloger.com)</li>
<li>Utilisation d’API (ex : Qwant)</li>
<li>Sources de données publiques</li>
</ul></li>
<li>Le webscraping devient cependant une source de données grandissante.</li>
</ul>
</section>
<section id="les-utilisations-du-scraping-à-linsee" class="slide level2" data-background-size="contain">
<h2>Les utilisations du scraping à l’INSEE</h2>
<ul>
<li>Enquêtes ménages
<ul>
<li>Récupérer coordonnées téléphoniques via les pages blanches</li>
</ul></li>
<li>Indices des prix
<ul>
<li>Prix des transports (trains via le site de la SNCF, domaine maritime)</li>
<li>Prix de produits divers (ex : électronique)</li>
<li>Prix dans le domaine de l’hôtellerie, avec booking.com</li>
</ul></li>
</ul>
</section>
<section id="organisation-du-scraping-à-linsee" class="slide level2" data-background-size="contain">
<h2>Organisation du scraping à l’INSEE</h2>
<ul>
<li><p>Un scraping par cas d’usage, avec une gestion plus globale en cours de maturité</p></li>
<li><p>Beaucoup de Python, un peu de R et de Java</p></li>
</ul>
</section></section>
<section>
<section id="cas-dusage-à-linsee" class="title-slide slide level1 center" data-background-size="contain">
<h1>Cas d’usage à l’INSEE</h1>

</section>
<section id="les-prix-dans-le-domaine-de-lhôtellerie-booking.com" class="slide level2" data-background-size="contain">
<h2>Les prix dans le domaine de l’hôtellerie : Booking.com</h2>
<ul>
<li>Un travail ayant donné lieu à une <a href="https://www.ottawagroup.org/Ottawa/ottawagroup.nsf/4a256353001af3ed4b2562bb00121564/90eefd961765454eca25886a00042203/$FILE/Web%20scraping%20of%20booking.com_Paper.pdf">publication</a>
<ul>
<li><em>Web scraping of a booking platform: exploring new data and methodology for the hotel service consumer price index</em></li>
<li>Par Adrien Montbroussous, avec le travail de Camille Freppel et Ombéline Guillon</li>
</ul></li>
<li>Une <a href="http://www.jms-insee.fr/2022/S14_1_PPT_MONTBROUSSOUS_JMS2022.pdf">présentation</a> plus accessible</li>
</ul>
</section>
<section id="scraping-de-booking.com-le-code" class="slide level2" data-background-size="contain">
<h2>Scraping de Booking.com : le code</h2>
<ul>
<li><p>La partie ‘scraping’ du projet est disponible <a href="https://git.lab.sspcloud.fr/methodo-ipc/webscraping-hotel">ici</a>.</p></li>
<li><p>Pour plus d’informations, contacter <script type="text/javascript">
<!--
h='&#x69;&#110;&#x73;&#x65;&#x65;&#46;&#102;&#114;';a='&#64;';n='&#x61;&#100;&#114;&#x69;&#x65;&#110;&#46;&#x6d;&#x6f;&#110;&#116;&#98;&#114;&#x6f;&#x75;&#x73;&#x73;&#x6f;&#x75;&#x73;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+'&#x41;&#100;&#114;&#x69;&#x65;&#110;&#32;&#x4d;&#x6f;&#110;&#116;&#98;&#114;&#x6f;&#x75;&#x73;&#x73;&#x6f;&#x75;&#x73;'+'<\/'+'a'+'>');
// -->
</script><noscript>Adrien Montbroussous (adrien.montbroussous at insee dot fr)</noscript>, INSEE.</p></li>
<li><p>La conférence associée aux présentations : <a href="https://www.ottawagroup.org/ottawa/ottawagroup.nsf/4a256353001af3ed4b2562bb00121564/c7e600e0bec85d82ca25888400059a93?OpenDocument#Meeting%2017%20Rome">ici</a></p>
<ul>
<li>D’autres projets similaires de scraping mentionnés</li>
</ul></li>
</ul>
</section>
<section id="ventes-darticles-électroniques" class="slide level2" data-background-size="contain">
<h2>Ventes d’articles électroniques</h2>
<ul>
<li><p>Scraping de <a href="https://www.boulanger.com/">Boulanger</a> : <a href="https://git.lab.sspcloud.fr/methodo-ipc/webscraping-biens-electroniques/-/tree/master/boulanger">ici</a></p></li>
<li><p>Scraping de <a href="https://www.rueducommerce.fr/">Rue du Commerce</a> : <a href="https://git.lab.sspcloud.fr/methodo-ipc/webscraping-biens-electroniques/-/tree/master/rue-du-commerce">ici</a></p></li>
<li><p>Pour plus d’informations, contacter <script type="text/javascript">
<!--
h='&#x69;&#110;&#x73;&#x65;&#x65;&#46;&#102;&#114;';a='&#64;';n='&#x61;&#100;&#114;&#x69;&#x65;&#110;&#46;&#x6d;&#x6f;&#110;&#116;&#98;&#114;&#x6f;&#x75;&#x73;&#x73;&#x6f;&#x75;&#x73;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+'&#x41;&#100;&#114;&#x69;&#x65;&#110;&#32;&#x4d;&#x6f;&#110;&#116;&#98;&#114;&#x6f;&#x75;&#x73;&#x73;&#x6f;&#x75;&#x73;'+'<\/'+'a'+'>');
// -->
</script><noscript>Adrien Montbroussous (adrien.montbroussous at insee dot fr)</noscript>, INSEE.</p></li>
</ul>
</section>
<section id="scraping-de-la-sncf" class="slide level2" data-background-size="contain">
<h2>Scraping de la SNCF</h2>
<p>Si autorisé, insérer slides scraping SNCF</p>
</section>
<section id="dautres-ressources-pour-le-scraping-lié-à-lipc" class="slide level2" data-background-size="contain">
<h2>D’autres ressources pour le scraping lié à l’IPC</h2>
<ul>
<li><a href="https://ec.europa.eu/eurostat/documents/272892/12032198/Guidelines-web-scraping-HICP-11-2020.pdf/">Guidelines d’Eurostat</a> sur le scraping lié à l’indice des prix à la consommation
<ul>
<li>Annexe 3 consacrée aux travaux de l’INSEE sur Boulanger et Rue du Commerce</li>
</ul></li>
</ul>
</section></section>
<section id="iv.-dautres-organisations-adeptes-de-scraping" class="title-slide slide level1 center" data-background-size="contain">
<h1>IV. D’autres organisations adeptes de scraping</h1>

</section>

<section id="iv.-sommaire" class="title-slide slide level1 center" data-background-size="contain">
<h1>IV. Sommaire</h1>
<p>Insérer sommaire cliquable</p>
</section>

<section>
<section id="le-scraping-chez-eurostat" class="title-slide slide level1 center" data-background-size="contain">
<h1>Le scraping chez Eurostat</h1>

</section>
<section id="les-investissements-deurostat-en-webscraping" class="slide level2" data-background-size="contain">
<h2>Les investissements d’Eurostat en webscraping</h2>
<ul>
<li>Eurostat investit dans divers projets nommés <a href="https://ec.europa.eu/eurostat/cros/page/essnet_en">ESSnets</a>.
<ul>
<li>“An ESSnet project is a network of several ESS organisations aimed at providing results that will be beneficial to the whole ESS.”</li>
</ul></li>
<li>Parmi ces investissements, plusieurs liés aux nouvelles sources de données, dont le webscraping.
<ul>
<li>ESSnet Big Data I &amp; II</li>
<li>Trusted Smart Statistics – Web Intelligence Network (WIN)</li>
</ul></li>
</ul>
</section>
<section id="une-continuité-de-projets" class="slide level2" data-background-size="contain">
<h2>Une continuité de projets</h2>
<p>3 ESSnets dans la continuité les uns des autres :</p>
<ul>
<li><a href="https://ec.europa.eu/eurostat/cros/essnet-big-data-1_en">Big Data I</a> de février 2016 à mai 2018</li>
<li><a href="https://ec.europa.eu/eurostat/cros/essnet-big-data-2_en">Big Data II</a> de novembre 2018 à juin 2021</li>
<li>Le <a href="https://ec.europa.eu/eurostat/cros/content/project-overview_en">Web Intelligence Network</a> (WIN) d’avril 2020 à mars 2025
<ul>
<li>Le WIN fait notamment la promotion du Web Intelligence Hub (WIH), dédié à l’acquisition de nouvelles données en ligne.</li>
<li>Ce sont 17 organisations de 14 pays européens qui travaillent ensemble.</li>
</ul></li>
</ul>
</section>
<section id="un-découpage-en-work-packages" class="slide level2" data-background-size="contain">
<h2>Un découpage en work packages</h2>
<p>Ces ESSnets couvrent une variété de projets. Ceux-ci sont organisés par work packages, chacun avec ses propres objectifs.</p>
<ul>
<li>Pour le WIN, on compte 4 work packages :
<ul>
<li><a href="https://ec.europa.eu/eurostat/cros/content/work-package-1-%E2%80%93-coordination-support-and-dissemination_en">Work package 1</a> : Coordination, support et dissémination</li>
<li><a href="https://ec.europa.eu/eurostat/cros/content/work-package-2-%E2%80%93-oja-and-obec-software_en">Work package 2</a> : Les projets OJA et OBEC</li>
<li><a href="https://ec.europa.eu/eurostat/cros/content/work-package-3-%E2%80%93-new-use-cases_en">Work package 3</a> : Nouveaux cas d’usage</li>
<li><a href="https://ec.europa.eu/eurostat/cros/content/work-package-4-%E2%80%93-methodology-and-quality_en">Work package 4</a> : Méthodologie et qualité</li>
</ul></li>
<li>L’INSEE est engagé dans les work packages 3 et 4.</li>
</ul>
</section></section>
<section>
<section id="cas-dusage-deurostat" class="title-slide slide level1 center" data-background-size="contain">
<h1>Cas d’usage d’Eurostat</h1>

</section>
<section id="le-work-package-2-du-win" class="slide level2" data-background-size="contain">
<h2>Le work package 2 du WIN</h2>
<ul>
<li>Il y a notamment deux gros projets de webscraping qui se sont poursuivis dans ces ESSnets :
<ul>
<li><a href="https://ec.europa.eu/eurostat/cros/content/WPB_Online_job_vacancies_en">Online Job Advertisements</a> (OJA) / Online Job Vacancies (OJV)</li>
<li><a href="https://ec.europa.eu/eurostat/cros/content/WPC_Enterprise_characteristics_en">Online-Based Enterprise Characteristics</a> (OBEC)</li>
</ul></li>
<li>Les deux projets faisaient également partie du ‘<a href="https://ec.europa.eu/eurostat/cros/content/implementation-track-0_en">Implementation Track</a>’ de l’ESSnet Big Data II.
<ul>
<li>Au sein du même track, on pourra aussi citer le projet ‘<a href="https://ec.europa.eu/eurostat/cros/content/WPF_Process_and_architecture_en">Process and architecture</a>’, qui a donné naissance au <a href="https://ec.europa.eu/eurostat/cros/content/wpf-deliverable-f2-breal-big-data-reference-architecture-and-layers-application-layer-and-information-layer-31-03-2021-finalpdf_en">BREAL</a>. Cela représente désormais le work package 4 du WIN. Tous les rapports disponibles <a href="https://ec.europa.eu/eurostat/cros/content/wpf-milestones-and-deliverables_en">ici</a>.</li>
</ul></li>
</ul>
</section>
<section id="online-job-advertisements---contexte" class="slide level2" data-background-size="contain">
<h2>Online Job Advertisements - Contexte</h2>
<ul>
<li><p>Besoin de statistiques sur les offres d’emploi les plus à jour possible pour adapter les politiques d’emploi et d’éducation</p></li>
<li><p>Les offres d’emploi étant de plus en plus en ligne, collecter ces données sur Internet devient particulièrement intéressant</p></li>
<li><p>Les collectes de données traditionelles sur les offres d’emploi sont assez peu efficaces</p></li>
<li><p>Le webscraping estimé comme la solution la plus appropriée pour obtenir des données les plus complètes possibles</p></li>
</ul>
</section>
<section id="oja---avantages-du-webscraping" class="slide level2" data-background-size="contain">
<h2>OJA - Avantages du webscraping</h2>
<ul>
<li><p>Possibilité de passer de données trimestrielles à des données journalières</p></li>
<li><p>Sur les sites d’offres, celles-ci sont souvent déjà découpées par secteur, région, niveau d’éducation, …</p></li>
<li><p>Réduire le fardeau de réponse des entreprises</p></li>
</ul>
</section>
<section id="oja---quelques-challenges-12" class="slide level2" data-background-size="contain">
<h2>OJA - Quelques challenges (1/2)</h2>
<ul>
<li><p>Bien définir l’étude, par exemple restreindre aux secteurs avec une offre en grande partie en ligne</p></li>
<li><p>Dédoublonner les offres présentes sur plusieurs plateformes (ex : les champs différant légèrement d’un site à l’autre à offre égale)</p></li>
<li><p>Traiter à la fois des données structurées et non structurées (selon les sites)</p></li>
<li><p>Savoir travailler avec les différents niveaux de détail ou unités de mesure qu’offre chaque site</p></li>
</ul>
</section>
<section id="oja---quelques-challenges-22" class="slide level2" data-background-size="contain">
<h2>OJA - Quelques challenges (2/2)</h2>
<ul>
<li><p>Gérer la qualité parfois assez basse des données et les erreurs de scraping qui pourraient ressortir</p></li>
<li><p>Bien respecter les règles en vigueur pour chaque site et pays au sujet du webscraping</p></li>
<li><p>Gérer l’aspect temporel : comparer les données du jour A à celles collectées la veille ou évaluer la durée de validité des offres</p></li>
<li><p>Gérer l’aspect “proxy” des donnés OJA et le fait qu’il manque beaucoup d’offres non publiées en ligne (biais de sélection)</p></li>
</ul>
</section>
<section id="oja---méthodes-utilisées" class="slide level2" data-background-size="contain">
<h2>OJA - Méthodes utilisées</h2>
<ul>
<li><p>Scraping de nombreux sites d’offre d’emploi</p></li>
<li><p>Méthodes poussées de NLP :</p>
<ul>
<li>Détection de langue</li>
<li>Traitements divers de texte</li>
<li>Comparaisons de texte</li>
<li>Classification par Machine Learning</li>
</ul></li>
</ul>
</section>
<section id="oja---conclusions" class="slide level2" data-background-size="contain">
<h2>OJA - Conclusions</h2>
<ul>
<li><p>En France, la <a href="https://dares.travail-emploi.gouv.fr/">DARES</a> participe à ce travail.</p></li>
<li><p>Projet encore en cours, mais résultats très encourageants</p>
<ul>
<li>Les rapports publiés : <a href="https://ec.europa.eu/eurostat/cros/content/wpb-milestones-and-deliverables-0_en">ici</a></li>
<li>Détails méthodologiques : <a href="https://ec.europa.eu/eurostat/cros/sites/default/files/ESSNet_II_WPB_OJV_Methodological_framework_V2.pdf">ici</a></li>
</ul></li>
</ul>
</section>
<section id="online-based-enterprise-characteristics---le-principe" class="slide level2" data-background-size="contain">
<h2><a href="https://ec.europa.eu/eurostat/cros/content/WPC_Overview_en#Milestones_and_deliverables">Online-Based Enterprise Characteristics</a> - Le principe</h2>
<ul>
<li><p>“The aim of WPC is to use web scraping, text mining and inference techniques for collecting and processing enterprise information, in order to improve or update existing information, such as Internet presence, kind of activity, address information, ownership structure, etc., in the national business registers.”</p></li>
<li><p>Autrement dit, de nombreux sites d’entreprises sont scrapés afin d’en extraire des informations complémentaires aux enquêtes menées par les INS dans chaque pays.</p></li>
</ul>
</section>
<section id="obec---tâche-1-politique-de-webscraping" class="slide level2" data-background-size="contain">
<h2>OBEC - Tâche 1 : Politique de webscraping</h2>
<ul>
<li><p>Le projet impliquant le scraping de nombreux sites dans plusieurs pays, il y a un fort besoin de transparence.</p></li>
<li><p>Outre la visibilité du projet, le RGPD ajoute un certain nombres de contraintes.</p></li>
<li><p>Une <a href="https://ec.europa.eu/eurostat/cros/system/files/wpc_deliverable_c1_ess_web-scraping_policy_template_2019_07_15.pdf">politique sur l’usage du webscraping</a> pour le projet a donc été rédigée et diffusée.</p></li>
</ul>
</section>
<section id="obec---tâche-2-cadre-méthodologique" class="slide level2" data-background-size="contain">
<h2>OBEC - Tâche 2 : <a href="https://ec.europa.eu/eurostat/cros/sites/default/files/WPC_Deliverable_C6_Reference_Methodological_Framework_v2.0.pdf">Cadre méthodologique</a></h2>
<ul>
<li>Cadrer le design du projet :
<ul>
<li>Représentation de données, process et méthodes, …</li>
</ul></li>
<li>Cadrer la phase de déploiement :
<ul>
<li>Infrastructure, étapes de data processing, …</li>
</ul></li>
<li>Réfléchir le cycle de vie du projet en fonction du <a href="https://unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.58/2020/mtg2/MWW2020_GSBPM_Introduction.pdf">GSBPM</a></li>
</ul>
</section>
<section id="obec---tâche-3-expérimentations" class="slide level2" data-background-size="contain">
<h2>OBEC - Tâche 3 : Expérimentations</h2>
<ul>
<li>Production de statistiques expérimentales en utilisant les méthodes d’OBEC :
<ul>
<li>Collecte d’URL, présence sur les réseaux sociaux, activité en ligne, e-commerce, …</li>
</ul></li>
<li>7 pays volontaires, les rapports et résultats <a href="https://ec.europa.eu/eurostat/cros/content/wpc-experimental-statistics_en">ici</a>
<ul>
<li>Les résultats obtenus sont une vitrine d’OBEC mais ne peuvent pas encore être considérés comme des statistiques officielles</li>
</ul></li>
</ul>
</section>
<section id="obec---tâche-4-starter-kits" class="slide level2" data-background-size="contain">
<h2>OBEC - Tâche 4 : Starter Kits</h2>
<ul>
<li><p>Afin que chaque INS puisse mettre en application les méthodes mises en place lors du projet, un starting kit est disponible en open source.</p></li>
<li><p>Le <a href="https://ec.europa.eu/eurostat/cros/sites/default/files/WPC_Deliverable_C7_Starter_kit_for_NSIs_V.2.pdf">deliverable</a> associé au starting kit</p></li>
<li><p>Le <a href="https://github.com/EnterpriseCharacteristicsESSnetBigData/StarterKit">repository</a> sur Github</p></li>
</ul>
</section>
<section id="obec---tâche-5-evaluation-de-la-qualité-des-résultats" class="slide level2" data-background-size="contain">
<h2>OBEC - Tâche 5 : Evaluation de la qualité des résultats</h2>
<ul>
<li><p>S’assurer de la qualité des résultats pour passer de la phase expérimentale à la mise en production par les INS</p></li>
<li><p>Mise en place d’un <a href="https://ec.europa.eu/eurostat/cros/sites/default/files/WPC_Deliverable_C5_Quality_template_for_statistical_outputs_2020_09_18_final.pdf">template</a> de suivi de la qualité des résultats</p>
<ul>
<li>Principalement issu de l’“<a href="https://unece.org/fr">UNECE</a> Framework for the Quality of Big Data”</li>
</ul></li>
<li><p>Derniers documents publiés en Novembre 2020, travail poursuivi aujourd’hui avec le WIN</p></li>
</ul>
</section>
<section id="quelques-leçons-tirées-du-scraping-pour-obec" class="slide level2" data-background-size="contain">
<h2>Quelques leçons tirées du scraping pour OBEC</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource {html} number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1"><a href="#cb2-1"></a>&lt;table&gt;</span>
<span id="cb2-2"><a href="#cb2-2"></a>   &lt;tr&gt;</span>
<span id="cb2-3"><a href="#cb2-3"></a>      &lt;th&gt;Problème rencontré&lt;/th&gt;</span>
<span id="cb2-4"><a href="#cb2-4"></a>      &lt;th&gt;Réponse à adopter&lt;/th&gt;</span>
<span id="cb2-5"><a href="#cb2-5"></a>   &lt;/tr&gt;</span>
<span id="cb2-6"><a href="#cb2-6"></a>   &lt;tr&gt;</span>
<span id="cb2-7"><a href="#cb2-7"></a>      &lt;td&gt;Liste d'URL non à jour&lt;/td&gt;</span>
<span id="cb2-8"><a href="#cb2-8"></a>      &lt;td&gt;Lancer un crawling pour vérifier validité des liens&lt;/td&gt;</span>
<span id="cb2-9"><a href="#cb2-9"></a>   &lt;/tr&gt;</span>
<span id="cb2-10"><a href="#cb2-10"></a>   &lt;tr&gt;</span>
<span id="cb2-11"><a href="#cb2-11"></a>      &lt;td&gt;Le robots.txt interdit le scraping de tout contenu&lt;/td&gt;</span>
<span id="cb2-12"><a href="#cb2-12"></a>      &lt;td&gt;Notifier le site en amont de la collecte&lt;/td&gt;</span>
<span id="cb2-13"><a href="#cb2-13"></a>   &lt;/tr&gt;</span>
<span id="cb2-14"><a href="#cb2-14"></a>    &lt;tr&gt;</span>
<span id="cb2-15"><a href="#cb2-15"></a>      &lt;td&gt;Site temporairement indisponible&lt;/td&gt;</span>
<span id="cb2-16"><a href="#cb2-16"></a>      &lt;td&gt;Essayer de scraper le site à des jours et heures différents&lt;/td&gt;</span>
<span id="cb2-17"><a href="#cb2-17"></a>   &lt;/tr&gt;</span>
<span id="cb2-18"><a href="#cb2-18"></a>    &lt;tr&gt;</span>
<span id="cb2-19"><a href="#cb2-19"></a>      &lt;td&gt;Pas d'horodatage &lt;/td&gt;</span>
<span id="cb2-20"><a href="#cb2-20"></a>      &lt;td&gt;Essayer de scraper le site à des jours et heures différents&lt;/td&gt;</span>
<span id="cb2-21"><a href="#cb2-21"></a>   &lt;/tr&gt;</span>
<span id="cb2-22"><a href="#cb2-22"></a>&lt;/table&gt;</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section></section>
<section>
<section id="webscraping-dans-un-ins---quelques-interlocuteurs" class="title-slide slide level1 center" data-background-size="contain">
<h1>Webscraping dans un INS - Quelques interlocuteurs</h1>

</section>
<section id="le-web-intelligence-network" class="slide level2" data-background-size="contain">
<h2>Le <a href="https://ec.europa.eu/eurostat/cros/WIN_en">Web Intelligence Network</a></h2>
<ul>
<li><p>Présents sur plusieurs media : <a href="https://www.linkedin.com/company/essnet-project-web-intelligence-network/">LinkedIn</a>, <a href="https://twitter.com/EssnetWin?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">Twitter</a>, <a href="https://www.eventbrite.co.uk/o/essnet-web-intelligence-network-project-54944960133?utm_source=eventbrite&amp;utm_medium=email&amp;utm_campaign=event_reminder&amp;utm_term=orgname">Eventbrite</a>, <a href="https://www.youtube.com/channel/UC5fUzazBu7d1Arl17LdC4zQ">Youtube</a></p></li>
<li><p>Souhaitent également communiquer auprès d’INS hors Europe</p></li>
<li><p>Un calendrier très complet d’événements, de webinaires, …</p>
<ul>
<li>Dernier webinaire le 23/11 sur le work package 4 : BREAL et user stories, qualité et méthodologie</li>
</ul></li>
</ul>
</section>
<section id="pour-reprendre-les-mots-du-win" class="slide level2" data-background-size="contain">
<h2>Pour reprendre les mots du WIN …</h2>
<p>The target audience for the WIH are organisations that produce national statistics and want to modernise the production of national statistics and are looking for:</p>
<ul>
<li>Exploring new and emerging data sources</li>
<li>Building competences</li>
<li>Building and strengthening collaborations</li>
<li>Developing new frameworks</li>
<li>Adopting new practices</li>
</ul>
</section>
<section id="les-webinaires-du-win-des-prochains-mois" class="slide level2" data-background-size="contain">
<h2>Les webinaires du WIN des prochains mois</h2>
<ul>
<li>Début 2023 :
<ul>
<li>“Web Scraped Data to Enhance the Quality of the Statistical Business Register”</li>
<li>“Method of Processing and Analysing Web Scraped Tourism Data”</li>
<li>“Web Intelligence in Practice. How to use content form the web for enterprise statistics?”</li>
</ul></li>
<li>Mi 2023 :
<ul>
<li>“Web Scraping of Real Estate Portals”</li>
</ul></li>
<li>Davantage d’informations à venir pour la suite</li>
</ul>
</section>
<section id="lins-du-royaume-uni-lons" class="slide level2" data-background-size="contain">
<h2>L’INS du Royaume-Uni : l’<a href="https://www.ons.gov.uk/">ONS</a></h2>
<ul>
<li><p>Un <a href="https://datasciencecampus.ons.gov.uk/">blog</a> consacré à la data science alimenté régulièrement</p></li>
<li><p>Une politique de webscraping très mature, disponible <a href="https://www.ons.gov.uk/aboutus/transparencyandgovernance/datastrategy/datapolicies/webscrapingpolicy">ici</a> et <a href="https://www.ons.gov.uk/file?uri=/aboutus/transparencyandgovernance/datastrategy/datapolicies/webscrapingpolicy/webscrapingpolicy.pdf">ici</a></p>
<ul>
<li>Ne pas hésiter à lire leur liste des bonnes pratiques, très bien faite</li>
</ul></li>
<li><p>Prompts à multiplier les <a href="https://datasciencecampus.ons.gov.uk/partnerships/">partenariats</a></p></li>
</ul>
</section>
<section id="quid-de-recourir-à-des-acteurs-privés-spécialisés" class="slide level2" data-background-size="contain">
<h2>Quid de recourir à des acteurs privés spécialisés ?</h2>
<ul>
<li><p>Il existe de nombreuses entreprises proposant des services de scraping.</p></li>
<li><p>En revanche, aucune garantie que les guidelines présentées soient appliquées</p></li>
<li><p>Possibles problématiques de transparence sur la collecte</p></li>
</ul>
<p>Ce n’est donc pas une recommandation. Ce n’est ni une pratique à l’INSEE ni à Eurostat.</p>
</section></section>
<section>
<section id="v.-conclusion" class="title-slide slide level1 center" data-background-size="contain">
<h1>V. Conclusion</h1>

</section>
<section id="le-mot-de-la-fin" class="slide level2" data-background-size="contain">
<h2>Le mot de la fin</h2>
<ul>
<li>Le webscraping est une nouvelle source de données très prometteuse.
<ul>
<li>Les cas d’usage sont nombreux, y compris pour les INS.</li>
</ul></li>
<li>En revanche attention, même à des fins statistiques, tout n’est pas permis.
<ul>
<li>Bien respecter les bonnes pratiques.</li>
</ul></li>
<li>Un réseau d’interlocuteurs à disposition
<ul>
<li>A travers le WIN ou entre INS</li>
</ul></li>
</ul>
</section></section>
<section id="merci-pour-votre-attention" class="title-slide slide level1 center" data-background-size="contain">
<h1>Merci pour votre attention !</h1>
<p>Des questions ?</p>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copi&#xE9;");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>